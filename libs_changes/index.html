
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="The Tremor Team" name="author"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.2.2, mkdocs-material-7.2.6" name="generator"/>
<title>Library Changes - Tremor RFCs</title>
<link href="../assets/stylesheets/main.802231af.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<meta content="#000000" name="theme-color"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="black" data-md-color-scheme="" dir="ltr">
<script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#rfc-guidelines-libraries-sub-team">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Tremor RFCs" class="md-header__button md-logo" data-md-component="logo" href=".." title="Tremor RFCs">
<img alt="logo" src="../img/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Tremor RFCs
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Library Changes
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/tremor-rs/tremor-rfcs/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    tremor-rs/tremor-rfcs
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Tremor RFCs" class="md-nav__button md-logo" data-md-component="logo" href=".." title="Tremor RFCs">
<img alt="logo" src="../img/logo.png"/>
</a>
    Tremor RFCs
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/tremor-rs/tremor-rfcs/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    tremor-rs/tremor-rfcs
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
        Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api_changes/">
        API Changes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../arch_changes/">
        Architectural Changes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../lang_changes/">
        Language Changes
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Library Changes
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Library Changes
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#motivation">
    Motivation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#is-an-rfc-required">
    Is an RFC required?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#non-rfc-process">
    Non-RFC process
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0000-template/">
        RFC Template
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7">
        RFCs
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="RFCs" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          RFCs
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../0001-remove-actix-from-tremor-runtime/">
        0001-remove-actix-from-tremor-runtime
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0002-pipeline-state-mechanism/">
        0002-pipeline-state-mechanism
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0003-linked-transports/">
        0003-linked-transports
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0004-sliding-window-mechanism/">
        0004-sliding-window-mechanism
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0005-circuit-breaker-mechanism/">
        0005-circuit-breaker-mechanism
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0006-plugin-development-kit/">
        0006-plugin-development-kit
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0007-pipeline-optimizations/">
        0007-pipeline-optimizations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0008-onramp-postgres/">
        0008-onramp-postgres
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0009-ramp-interface/">
        0009-ramp-interface
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0010-modularity/">
        0010-modularity
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0011-string-interpolation/">
        0011-string-interpolation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0012-correlation/">
        0012-correlation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../0013-expr-based-path/">
        0013-expr-based-path
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#motivation">
    Motivation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#is-an-rfc-required">
    Is an RFC required?
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#non-rfc-process">
    Non-RFC process
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/tremor-rs/tremor-rfcs/edit/main/libs_changes.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="rfc-guidelines-libraries-sub-team">RFC guidelines - libraries sub-team<a class="headerlink" href="#rfc-guidelines-libraries-sub-team" title="Permanent link">¶</a></h1>
<h2 id="motivation">Motivation<a class="headerlink" href="#motivation" title="Permanent link">¶</a></h2>
<ul>
<li>RFCs are heavyweight:</li>
<li>RFCs generally take at minimum 2 weeks from posting to land. In
    practice it can be more on the order of months for particularly
    controversial changes.</li>
<li>RFCs are a lot of effort to write; especially for non-native speakers or
    for members of the community whose strengths are more technical than literary.</li>
<li>RFCs may involve pre-RFCs and several rewrites to accommodate feedback.</li>
<li>RFCs require a dedicated shepherd to herd the community and author towards
    consensus.</li>
<li>RFCs require review from a majority of the subteam, as well as an official
    vote.</li>
<li>RFCs can't be downgraded based on their complexity. Full process always applies.
    Easy RFCs may certainly land faster, though.</li>
<li>
<p>RFCs can be very abstract and hard to grok the consequences of (no implementation).</p>
</li>
<li>
<p>PRs are low <em>overhead</em> but potentially expensive nonetheless:</p>
</li>
<li>Easy PRs can get insta-merged by any tremor libraries sub-team contributor.</li>
<li>Harder PRs can be easily escalated. You can ping subject-matter experts for second
    opinions. Ping the whole team!</li>
<li>Easier to grok the full consequences. Lots of tests and Crater to save the day.</li>
<li>PRs can be accepted optimistically with bors, buildbot, and the trains to guard
    us from major mistakes making it into stable. The size of the nightly community
    at this point in time can still mean major community breakage regardless of trains,
    however.</li>
<li>
<p>HOWEVER: Big PRs can be a lot of work to make only to have that work rejected for
    details that could have been hashed out first.</p>
</li>
<li>
<p>RFCs are <em>only</em> meaningful if a significant and diverse portion of the
community actively participates in them. The official teams are not
sufficiently diverse to establish meaningful community consensus by agreeing
amongst themselves.</p>
</li>
<li>
<p>If there are <em>tons</em> of RFCs -- especially trivial ones -- people are less
likely to engage with them. Official team members are super busy. Domain experts
and industry professionals are super busy <em>and</em> have no responsibility to engage
in RFCs. Since these are <em>exactly</em> the most important people to get involved in
the RFC process, it is important that we be maximally friendly towards their
needs.</p>
</li>
</ul>
<h2 id="is-an-rfc-required">Is an RFC required?<a class="headerlink" href="#is-an-rfc-required" title="Permanent link">¶</a></h2>
<p>The overarching philosophy is: <em>do whatever is easiest</em>. If an RFC
would be less work than an implementation, that's a good sign that an RFC is
necessary. That said, if you anticipate controversy, you might want to short-circuit
straight to an RFC.</p>
<ul>
<li><strong>Submit a PR</strong> if the change is a:</li>
<li>Bugfix</li>
<li>Docfix</li>
<li>Perffixes (with no further impact)</li>
<li><strong>Submit an RFC</strong> if the change is a:</li>
<li>Deprecation of a stable components</li>
<li>Nontrivial New components</li>
<li>Architectural changes</li>
<li><strong>Do the easier thing</strong> if uncertain. (choosing a path is not final)</li>
</ul>
<h2 id="non-rfc-process">Non-RFC process<a class="headerlink" href="#non-rfc-process" title="Permanent link">¶</a></h2>
<ul>
<li>A (non-RFC) PR is likely to be <strong>asked to be reopend as a RFC</strong> if clearly not acceptable:</li>
<li>Disproportionate breaking change (small inference breakage may be acceptable)</li>
<li>Unsound</li>
<li>Doesn't fit our general design philosophy around the problem</li>
<li>Better as a crate</li>
<li>Too marginal for std</li>
<li>
<p>Significant implementation problems</p>
</li>
<li>
<p>A PR may also be <strong>asked to be reopend as a RFC</strong> because an RFC is approriate.</p>
</li>
<li>
<p>A (non-RFC) PR  may be <strong>merged as unstable</strong>. In this case, the feature
should have a fresh feature gate and an associated tracking issue for
stabilisation. Docs are insta-stable and thus have no tracking issue.
This may imply requiring a higher level of scrutiny for such changes.</p>
</li>
</ul>
<p>However, an accepted RFC is not a rubber-stamp for merging an implementation PR.
Nor must an implementation PR perfectly match the RFC text. Implementation details
may merit deviations, though obviously they should be justified. The RFC may be
amended if deviations are substantial, but are not generally necessary. RFCs should
favour immutability. The RFC + Issue + PR should form a total explanation of the
current implementation.</p>
<ul>
<li>
<p>Once something has been merged as unstable, a shepherd should be assigned
  to promote and obtain feedback on the design.</p>
</li>
<li>
<p>Every time a release cycle ends, the libs teams assesses the current unstable
  APIs and selects some number of them for potential stabilization during the
  next cycle. These are announced for FCP at the beginning of the cycle, and
  (possibly) stabilized just before the beta is cut.</p>
</li>
<li>
<p>After the final comment period, an API should ideally take one of two paths:</p>
</li>
<li><strong>Stabilize</strong> if the change is desired, and consensus is reached</li>
<li><strong>Deprecate</strong> is the change is undesired, and consensus is reached</li>
<li>
<p><strong>Extend the FCP</strong> is the change cannot meet consensus</p>
<ul>
<li>If consensus <em>still</em> can't be reached, consider requiring a new RFC or
  just deprecating as "too controversial for std".</li>
</ul>
</li>
<li>
<p>If any problems are found with a newly stabilized API during its beta period,
  <em>strongly</em> favour reverting stability in order to prevent stabilizing a bad
  API. Due to the speed of the trains, this is not a serious delay (~2-3 months
  if it's not a major problem).</p>
</li>
</ul>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Language Changes" class="md-footer__link md-footer__link--prev" href="../lang_changes/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Language Changes
            </div>
</div>
</a>
<a aria-label="Next: RFC Template" class="md-footer__link md-footer__link--next" href="../0000-template/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              RFC Template
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.409db549.min.js", "version": null}</script>
<script src="../assets/javascripts/bundle.756773cc.min.js"></script>
<script src="https://unpkg.com/mermaid@8.8.4/dist/mermaid.min.js"></script>
</body>
</html>